<!DOCTYPE html>
<html>
<head>
    <title>Example - Bootstrap Form Error Reporter</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>

<body>
<div class="container">
<h1>Bootstrap Form Error Reporter</h1>
    <div class="col-md-8">
        <form id="my-form" class="form-horizontal" role="form">
            <div class="panel panel-default scope1">
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Panel 1</h4>
                </div>
                <br/>
                <div class="form-group">
                    <label class="control-label col-sm-2">Email:</label>
                    <div class="col-sm-5">
                        <input type="email" class="form-control email" placeholder="Enter email">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2">Password:</label>
                    <div class="col-sm-5">
                        <input type="password" class="form-control password" placeholder="Enter password">
                    </div>
                </div>
            </div>

            <div class="panel panel-default scope2">
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Panel 2</h4>
                </div>
                <br/>
                <div class="form-group">
                    <label class="control-label col-sm-2">Email:</label>
                    <div class="col-sm-5">
                        <input type="email" class="form-control email" placeholder="Enter email">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2">Password:</label>
                    <div class="col-sm-5">
                        <input type="password" class="form-control password" placeholder="Enter password">
                    </div>
                </div>
            </div>

            <div class="panel panel-default scope3">
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Panel 3</h4>
                </div>
                <br/>
                <div class="form-group">
                    <label class="control-label col-sm-2">Email:</label>
                    <div class="col-sm-5">
                        <input type="email" class="form-control email" placeholder="Enter email">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2">Password:</label>
                    <div class="col-sm-5">
                        <input type="password" class="form-control password" placeholder="Enter password">
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-4">
        <div class="panel scope1-highlight">
            <div class="panel-heading">
                <h3 class="panel-title">Panel 1 Errors</h3>
            </div>
            <div class="panel-body">This will become red when you fail validation in panel 1.</div>
        </div>
        <div class="panel scope2-highlight">
            <div class="panel-heading">
                <h3 class="panel-title">Panel 2 Errors</h3>
            </div>
            <div class="panel-body">This will become red when you fail validation in panel 2.</div>
        </div>
        <div class="panel scope3-highlight">
            <div class="panel-heading">
                <h3 class="panel-title">Panel 3 Errors</h3>
            </div>
            <div class="panel-body">This will become red when you fail validation in panel 3.</div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.19/require.js"></script>

<script type="text/javascript">
    <!--
    requirejs.config({
        "baseUrl": "../",
        "paths": {
            "BootstrapFormErrorReporter": "src/bootstrap-form-error-reporter",
            "jquery": "https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min",
        }
    });

    require(['jquery','BootstrapFormErrorReporter'], function ($, BootstrapFormErrorReporter) {

        var emailTester = function(field) {
            var val = field.val();

            var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
            return re.test(val);
        };

        var passwordTester = function(field) {
            var val = field.val();

            // at least one number, one lowercase and one uppercase letter
            // at least six characters
            var re = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/;
            return re.test(val);
        };

        var emailErrorMessage       = "Invalid %s, please check if you are using the right email syntax.";
        var passwordErrorMessage    = "The %s should be at least one number, one lowercase and one uppercase letter and at least six characters.";

        //Scope 1
        var bfer = new BootstrapFormErrorReporter(".scope1", {
            highlightElement: ".scope1-highlight",
            highlightClass: "panel-danger"
        });
        bfer
            .initField('.email', emailTester, emailErrorMessage)
            .initField('.password', passwordTester, passwordErrorMessage);

        //Scope 2
        var bfer = new BootstrapFormErrorReporter(".scope2", {
            highlightElement: ".scope2-highlight",
            highlightClass: "panel-danger"
        });
        bfer
                .initField('.email', emailTester, emailErrorMessage)
                .initField('.password', passwordTester, passwordErrorMessage);


        //Scope 3
        var bfer = new BootstrapFormErrorReporter(".scope3", {
            highlightElement: ".scope3-highlight",
            highlightClass: "panel-danger"
        });
        bfer
                .initField('.email', emailTester, emailErrorMessage)
                .initField('.password', passwordTester, passwordErrorMessage);



    });

    -->
</script>
</body>

</html>